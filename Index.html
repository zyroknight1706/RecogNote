<!DOCTYPE html> 
<html> 
  
<head> 
    <title> 
        RecogNote
    </title> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <style> 
        #drawing-board {
            border: 2px solid black;
            background-color: white;
        }
        .navbar {
            background-color:  rgb(241, 83, 241);
            z-index: 1;
            position: fixed;
        } 
        .btn {
            background-color: rgb(241, 83, 241);
        }
        .nav-link {
            color: white;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="Public/screen.js"></script>
</head> 
  
<body>
    <nav class = "navbar navbar-expand-sm">
        <a class = 'navbar-brand' href="#">
            <img src  = "Public/Logo_P.png" height="40" width="60" loading="lazy">
        </a>
        <ul class="nav">
            <li class="nav-item"><a class = "nav-link" href="">about us</a></li>
            <li class="nav-item"><a class = "nav-link">school</a></li>
            <li class="nav-item"><a class = "nav-link">our github page</a></li>
        </ul>
    </nav>
   <canvas id = "drawing-board"></canvas>
   
   <script type = "module">
   
    window.addEventListener("load", function(){
        const canvas = document.querySelector("#drawing-board");
        const ctx = canvas.getContext("2d");

        canvas.height = window.outerHeight-150;
         canvas.width = window.outerWidth-40;

        var painting = false;

        function draw(e){
         if(!painting) return;
         ctx.lineWidth = 10;
         ctx.lineCap = "round";

         ctx.lineTo(e.clientX, e.clientY);
         ctx.stroke();
         ctx.beginPath();
         ctx.moveTo(e.clientX, e.clientY);
         }

        canvas.addEventListener("mousedown", function(e){
         painting = true;
         draw(e);
        });
        canvas.addEventListener("mouseup", function(e){
         painting = false;
         ctx.beginPath();
        });
        canvas.addEventListener("mousemove", draw);
    });
</script>
<div>
   <button class="btn btn-secondary" onclick="save">save page</button>
<button class = "button btn btn-secondary" onclick="AIspeak">Start speaking</button>
<form method="POST" action="/success">
<button type = "submit" class = "btn btn-secondary">save in pdf</button>
</form>
</div>
<script>
var speech = '';

function save(){
    doc.image(Document.querySelector('#drawing-board').getContext.toDataURL('image/png'),{width: 500, height:1000});
}

function AIspeak() { 
    console.log("its inside the function");
var speechRecognition = window.speechRecognition || window.webkitSpeechRecognition;
var speechGrammarList = speechGrammarList || webkitSpeechGrammarList;
var recognition = new speechRecognition();
var speechRecognitionGrammarList = new speechGrammarList();

var grammar = "#JSGF V1.0;";
speechRecognitionGrammarList.addFromString(grammar,1);

recognition.grammars = speechRecognitionGrammarList;
recognition.lang = "en-IN";
recognition.interimResults = false;
recognition.continuous = true; 

recognition.start();

recognition.onresult = function(event){
    var last = event.results.length - 1;
    speech = event.results[last][0].transcript;
    doc.text(speech);
    console.log(speech);
}

recognition.onspeechend = function() {
    recognition.stop();
}
recognition.onspeecherr = function(event) {
    console.log(event.error);
}
}
document.querySelector(".button").addEventListener("click", AIspeak, false);

</script>
</body>
</html> 
